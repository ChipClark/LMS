<h2>Personnel List</h2>
    <div class="searchbar col-md-7 col-sm-12" >
        <input class="form-control searchbar" id="SearchBar" placeholder="Search by keyword" value="" onfocus="this.value=''" [(ngModel)]="searchTerm" (input)="searchTerm ? addQueryParams({search: searchTerm}) : addQueryParams({search: null})">

        <div class="btn-group-toggle rolebar d-none d-md-block" data-toggle="alphabuttons">
                <label class="normal-font btn btn-outline-secondary" [class.active]="!alpha" id="alphaAll">
                    <input type="radio" name="options" [(ngModel)]="alpha" [value]="" value=""
                        class="generalbtn normal-font" (click)="clearALL()">&nbsp;Clear&nbsp;
                </label>
                <label class="normal-font btn btn-outline-secondary blur" [class.active]="alpha == a"  *ngFor="let a of alphabets">
                    <input type="radio" name="options"
                       class="generalbtn normal-font" [(ngModel)]="alpha" [value]="a" value="{{a}}" (click)="addQueryParams({alpha: a})">&nbsp;{{ a }}
                </label>
        </div>
    </div>

    <div class='optionsbar col-md-5 d-md-block d-none'>
        <div class="btn-group-toggle locationbar d-none d-sm-block " data-toggle="locationbuttons">
        <label class="normal-font btn btn-outline-secondary" [class.active]="!cityid" id="city6">
           <input type="radio" name="options" id="option1"  
                class="generalbtn" [(ngModel)]="cityid" value="" [value]="" (click)="addQueryParams({city: null})">&nbsp;All&nbsp;
        </label>&nbsp;
        <label class="normal-font btn btn-outline-secondary blur" [class.active]="cityid == 4" id="city1">
            <input type="radio" name="options" id="option2"
                class="generalbtn" [(ngModel)]="cityid" [value]="4" value="4" (click)="addQueryParams({city: 4})">&nbsp;CC&nbsp;
        </label>&nbsp;
        <label class="normal-font btn btn-outline-secondary blur" [class.active]="cityid == 1" id="city2">
            <input type="radio" name="options" id="option3"
                class="generalbtn" [(ngModel)]="cityid" [value]="1" value="1" (click)="addQueryParams({city: 1})">&nbsp;LA&nbsp;
        </label>&nbsp;
        <label class="normal-font btn btn-outline-secondary blur" [class.active]="cityid == 2" id="city3">
            <input type="radio" name="options" id="option4"
                class="generalbtn" [(ngModel)]="cityid" [value]="2" value="2" (click)="addQueryParams({city: 2})">&nbsp;OC&nbsp;
        </label>&nbsp;
        <label class="normal-font btn btn-outline-secondary blur" [class.active]="cityid == 3" id="city4">
            <input type="radio" name="options" id="option5"
                class="generalbtn" [(ngModel)]="cityid" [value]="3" value="3" (click)="addQueryParams({city: 3})">&nbsp;SD&nbsp;
        </label>&nbsp;
        <label class="normal-font btn btn-outline-secondary blur" [class.active]="cityid == 5" id="city5">
            <input type="radio" name="options" id="option6"
            class="generalbtn" [(ngModel)]="cityid" [value]="5" value="5" (click)="addQueryParams({city: 5})">&nbsp;SF&nbsp;
        </label>
        </div>

        <div class="btn-group-toggle rolebar d-none d-md-block" data-toggle="rolebuttons">
            <label class="normal-font btn btn-outline-secondary" [class.active]="!roleid" id="Role1">
                <input type="radio" name="options" id="roleoption1"  
                    class="generalbtn med-font" [(ngModel)]="roleid" [value]="" (click)="addQueryParams({role: null})">&nbsp;All&nbsp;
            </label>&nbsp;
            <label class="normal-font btn btn-outline-secondary blur" [class.active]="roleid == 13" id="Role2">
                <input type="radio" name="options" id="roleoption2"
                    class="generalbtn med-font" [(ngModel)]="roleid" [value]="13" (click)="addQueryParams({role: 13})">&nbsp;Partners&nbsp;
            </label>&nbsp;
            <label class="normal-font btn btn-outline-secondary blur" [class.active]="roleid == 2" id="Role3">
                <input type="radio" name="options" id="roleoption3"
                    class="generalbtn med-font" [(ngModel)]="roleid" [value]="2" (click)="addQueryParams({role: 2})">&nbsp;Of Counsel&nbsp;
             </label>&nbsp;
             <label class="normal-font btn btn-outline-secondary blur" [class.active]="roleid == 1" id="Role4">
                <input type="radio" name="options" id="roleoption4"
                    class="generalbtn med-font" [(ngModel)]="roleid" [value]="1" (click)="addQueryParams({role: 1})">&nbsp;Associates&nbsp;
             </label>&nbsp;
                <label class="normal-font btn btn-outline-secondary blur" [class.active]="roleid == 10" id="Role5">
                <input type="radio" name="options" id="roleoption5"
                        class="generalbtn ned-font" [(ngModel)]="roleid" [value]="10" (click)="addQueryParams({role: 10})">&nbsp;Paralegal&nbsp;
            </label>&nbsp;
            <label class="normal-font btn btn-outline-secondary blur" [class.active]="roleid == 20" id="Role13">
                <input type="radio" name="options" id="roleoption13"
                        class="generalbtn med-font" [(ngModel)]="roleid" [value]="20" (click)="addQueryParams({role: 20})">&nbsp;Staff&nbsp;
            </label>&nbsp;
        </div>
        <br clear=all>
    
        
    </div>

<div class="person-list" >

  <div class="PaginationBar">
    <pagination-controls class="pagecontrols" (pageChange)="pageNumber = $event;addQueryParams({page: pageNumber})"></pagination-controls>
    <span class="numoftotal">Items TBD-TBD of TBD</span>
  </div>
      <br clear=all>
  <div class="container">
    <div class="row">
        <div *ngFor="let person of people | city: cityid | role: roleid | alpha: alpha | search: searchTerm | paginate: { itemsPerPage: limit, currentPage: pageNumber };
                let i = index;
                let odd = odd let even = even; 
                trackBy: person?.pkpersonid"  >
        <div class="col">         
            <div class="people" >
                <div class="userphoto">
                    <div [innerHTML]="getPhoto(person.photo)"></div>
                    <img src="{{person.photolocationpath}}{{person.photofilename}}" id="{{person.displayname}}" width="112px;" />
                </div>
                <div class="userdetails" > 
                    <div class="username">
                        <strong>
                        <button class="username btn btn-outline-secondary blur" (click)="getIndividual(person.pkpersonid)" data-toggle="tooltip" title="see more about {{person.displayname}}" >
                            {{person.displayname}}</button> <!--{{person.pkpersonid}}-->
                        </strong>&nbsp; <span *ngIf="activePeople.length == 1">{{getPrefName(person.preferredfirstname)}} </span> 
                
                        &nbsp;<a href="mailto:{{person.emails[0].emailaddress}}" id="{{person.displayname}}" >
                        <img src="../../assets/email.jpg" data-toggle="tooltip" title="email {{person.displayname}}" width="20px;" ></a>
                            &nbsp;<a href="http://crmam01/InterAction/relationship-overview-person?contactId={{person.interactionid}}" id="{{person.interactionid}}" >
                        <img src="../../assets/ia.jpg" data-toggle="tooltip" title="InterAction" width="20px;"></a>
                        <span *ngIf="person.isattorney" [innerHTML]="ifWebBio(person)"></span>
                            &nbsp;<span [innerHTML]="ifCPR(person)"></span>&nbsp;<span [innerHTML]="ifNotary(person)"></span>
                            &nbsp;<span *ngIf="activePeople.length == 1" class="normal-font"><a routerLink="" (click)="goBack()">Back</a></span>
                    </div>

                    <div class="userinfo">
                        <div id="jobtitle" [innerHTML]="getTitles(person)" ></div>  

                        {{person.officelocation.officelocationcode}} Office Number: 
                        <a href="http://marketing/utils/personnel2/MapTest.asp?hi=1&h=o{{person.officenumber}}&off_id=3" 
                            class="__web-inspector-hide-shortcut__">{{person.officenumber}}</a><br>

                            <!-- officeFloor(person.officefloorid) is the function to get he off_id but not working yet -->
                        <div id="phonenumber" class="phonenumber" [innerHTML]="getPhone(person)"></div>
                        <div *ngIf="person.personrelationship && !person.supportrelationships" id="assistant" >
                            <a routerLink="" *ngFor="let related of person.personrelationship" (click)="getIndividual(related.relatedpersonid)" >
                                {{getPerson(related.relatedpersonid)}}</a><br>
                        </div>
                        <div *ngIf="person.personrelationship && person.supportrelationships" id="secretary" >
                            <strong>Supporting:</strong><br><ul>
                            <div *ngFor="let related of person.personrelationship" ><a routerLink="" (click)="getIndividual(related.supportedpersonid)" >
                                {{getPerson(related.supportedpersonid)}}</a><br>
                            </div></ul>
                        </div>
              
                        <div *ngIf="people.length == 1">
                            <strong>More:</strong><br>
                            {{person.timekeepernumber}}
                            <!--<div id="Education" [innerHTML="getEducation(person)"]></div>-->
                        </div>
                    </div>
              
          
                </div>
            </div>
        </div>
        </div>
    </div>
    <div class="PaginationBar">
            <pagination-controls class="pagecontrols" (pageChange)="pageNumber = $event"></pagination-controls>
        </div>
  </div>
        
</div>

